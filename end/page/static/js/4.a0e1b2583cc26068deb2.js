webpackJsonp([4],{NclR:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("Dd8w"),a=s.n(n),i=s("NYxO"),o={data:function(){return{oldPw:"",newPw1:"",newPw2:"",isOld:!0,isSame:!0,isFirst:!0}},methods:{checkNewPw:function(){return this.newPw1==this.newPw2?(this.isSame=!0,!0):(this.isSame=!1,!1)},startCheck:function(){var e=this;this.isFirst=!1,this.oldPw&&this.newPw1&&this.newPw2&&this.checkNewPw()&&this.$confirm("修改成功将会重新登陆, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.updatePassword()}).catch(function(){e.$message({type:"info",message:"已取消"})})},updatePassword:function(){var e=this;this.axios.post("/checkPassword",this.$qs.stringify({userName:this.userName,password:this.oldPw})).then(function(t){console.log(t),"1"==t.data.status?e.axios.post("/updatePassword",e.$qs.stringify({userName:e.userName,password:e.newPw1})).then(function(t){e.$router.push({name:"login"})}):e.old=!1})}},computed:a()({},Object(i.d)(["userName"]))},r={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"personal"},[s("div",{staticClass:"update"},[s("h2",[e._v("修改密码")]),e._v(" "),s("div",{staticClass:"updateWrap"},[s("el-row",[s("label",{attrs:{for:"oldPw"}},[e._v("旧密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.oldPw,expression:"oldPw"}],attrs:{type:"password",id:"oldPw"},domProps:{value:e.oldPw},on:{input:function(t){t.target.composing||(e.oldPw=t.target.value)}}}),e._v(" "),e.isFirst||e.oldPw?e._e():s("span",{staticClass:"tip"},[e._v("不能为空")]),e._v(" "),e.isOld?e._e():s("span",[e._v("密码错误")])]),e._v(" "),s("el-row",[s("label",{attrs:{for:"newPw1"}},[e._v("新密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPw1,expression:"newPw1"}],attrs:{type:"password",id:"newPw1"},domProps:{value:e.newPw1},on:{input:function(t){t.target.composing||(e.newPw1=t.target.value)}}})]),e._v(" "),s("el-row",[s("label",{attrs:{for:"newPw2"}},[e._v("确认密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPw2,expression:"newPw2"}],attrs:{type:"password",id:"newPW2"},domProps:{value:e.newPw2},on:{input:function(t){t.target.composing||(e.newPw2=t.target.value)}}}),e._v(" "),!e.isSame&&e.newPw1&&e.newPw2?s("span",{staticClass:"tip"},[e._v("两次密码不相同,请重新输入")]):e._e(),e._v(" "),e.isFirst||e.newPw1&&e.newPw2?e._e():s("span",{staticClass:"tip"},[e._v("不能为空")])]),e._v(" "),s("el-row",[s("button",{on:{click:e.startCheck}},[e._v("确认")])])],1)])])},staticRenderFns:[]};var w=s("VU/8")(o,r,!1,function(e){s("mlvA")},null,null);t.default=w.exports},mlvA:function(e,t){}});